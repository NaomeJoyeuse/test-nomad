function cov_21x79pzeds(){var path="N:\\Personal Projects\\The Talent\\test-nomad\\src\\validations\\userValidation.js";var hash="52cab652a656f9ac075090f3b9d642bcb3dac176";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"N:\\Personal Projects\\The Talent\\test-nomad\\src\\validations\\userValidation.js",statementMap:{"0":{start:{line:1,column:12},end:{line:1,column:26}},"1":{start:{line:2,column:15},end:{line:2,column:34}},"2":{start:{line:3,column:12},end:{line:3,column:35}},"3":{start:{line:6,column:4},end:{line:6,column:27}},"4":{start:{line:7,column:29},end:{line:51,column:2}},"5":{start:{line:52,column:28},end:{line:61,column:1}},"6":{start:{line:53,column:15},end:{line:57,column:4}},"7":{start:{line:58,column:2},end:{line:60,column:3}},"8":{start:{line:59,column:4},end:{line:59,column:44}},"9":{start:{line:62,column:24},end:{line:66,column:1}},"10":{start:{line:63,column:15},end:{line:63,column:39}},"11":{start:{line:64,column:25},end:{line:64,column:58}},"12":{start:{line:65,column:2},end:{line:65,column:24}},"13":{start:{line:67,column:25},end:{line:77,column:1}},"14":{start:{line:68,column:18},end:{line:72,column:3}},"15":{start:{line:73,column:16},end:{line:75,column:4}},"16":{start:{line:76,column:2},end:{line:76,column:15}},"17":{start:{line:78,column:33},end:{line:86,column:1}},"18":{start:{line:81,column:6},end:{line:81,column:45}},"19":{start:{line:82,column:2},end:{line:84,column:3}},"20":{start:{line:83,column:4},end:{line:83,column:46}},"21":{start:{line:85,column:2},end:{line:85,column:44}},"22":{start:{line:87,column:0},end:{line:91,column:2}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:52,column:28},end:{line:52,column:29}},loc:{start:{line:52,column:43},end:{line:61,column:1}},line:52},"1":{name:"(anonymous_1)",decl:{start:{line:62,column:24},end:{line:62,column:25}},loc:{start:{line:62,column:42},end:{line:66,column:1}},line:62},"2":{name:"(anonymous_2)",decl:{start:{line:67,column:25},end:{line:67,column:26}},loc:{start:{line:67,column:33},end:{line:77,column:1}},line:67},"3":{name:"(anonymous_3)",decl:{start:{line:78,column:33},end:{line:78,column:34}},loc:{start:{line:78,column:51},end:{line:86,column:1}},line:78}},branchMap:{"0":{loc:{start:{line:58,column:2},end:{line:60,column:3}},type:"if",locations:[{start:{line:58,column:2},end:{line:60,column:3}},{start:{line:58,column:2},end:{line:60,column:3}}],line:58},"1":{loc:{start:{line:82,column:2},end:{line:84,column:3}},type:"if",locations:[{start:{line:82,column:2},end:{line:84,column:3}},{start:{line:82,column:2},end:{line:84,column:3}}],line:82}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},f:{"0":0,"1":0,"2":0,"3":0},b:{"0":[0,0],"1":[0,0]},inputSourceMap:{version:3,names:["Joi","require","bcrypt","jwt","User","userValidationSchema","object","email","string","required","messages","password","min","alphanum","firstName","lastName","birthOfDate","date","iso","preferredLanguage","optional","preferredCurrency","whereYouLive","role","department","lineManager","gender","valid","telephoneNumber","pattern","validateEmailExists","user","findOne","where","Error","encryptPassword","salt","genSalt","hashedPassword","hash","generateJwtToken","payload","userId","id","token","sign","process","env","JWT_SECRET","expiresIn","validateUserRegistration","userData","error","validate","details","message","module","exports"],sourceRoot:"N:\\Personal Projects\\The Talent\\test-nomad\\src\\validations\\",sources:["userValidation.js"],sourcesContent:["const Joi = require('joi');\r\nconst bcrypt = require('bcryptjs');\r\nconst jwt = require('jsonwebtoken');\r\nconst { User } = require('../../models');\r\n\r\nconst userValidationSchema = Joi.object({\r\n  email: Joi.string().email().required().messages({\r\n    'string.email': 'Invalid email format',\r\n    'any.required': 'Email is required',\r\n  }),\r\n  password: Joi.string().min(8).alphanum().required().messages({\r\n    'string.min': 'Password must be at least 8 characters long',\r\n    'string.alphanum': 'Password must be alphanumeric',\r\n    'any.required': 'Password is required',\r\n  }),\r\n  firstName: Joi.string().required().messages({\r\n    'any.required': 'First name is required',\r\n  }),\r\n  lastName: Joi.string().required().messages({\r\n    'any.required': 'Last name is required',\r\n  }),\r\n  birthOfDate: Joi.date().iso().required().messages({\r\n    'date.base': 'Invalid date format',\r\n    'any.required': 'Date of birth is required',\r\n  }),\r\n  preferredLanguage: Joi.string().optional().messages({\r\n    'string.base': 'Preferred language must be a string',\r\n  }),\r\n  preferredCurrency: Joi.string().optional().messages({\r\n    'string.base': 'Preferred currency must be a string',\r\n  }),\r\n  whereYouLive: Joi.string().optional().messages({\r\n    'string.base': 'Location must be a string',\r\n  }),\r\n  role: Joi.string().required().messages({\r\n    'any.required': 'Role is required',\r\n  }),\r\n  department: Joi.string().optional().messages({\r\n    'string.base': 'Department must be a string',\r\n  }),\r\n  lineManager: Joi.string().optional().messages({\r\n    'string.base': 'Line Manager must be a string',\r\n  }),\r\n  gender: Joi.string().valid('Male', 'Female', 'Other').optional().messages({\r\n    'any.only': 'Gender must be Male, Female, or Other',\r\n  }),\r\n  telephoneNumber: Joi.string()\r\n    .pattern(/^\\+?\\d{7,15}$/)\r\n    .optional()\r\n    .messages({\r\n      'string.pattern.base': 'Telephone number must be a valid phone number',\r\n    }),\r\n});\r\n\r\nconst validateEmailExists = async (email) => {\r\n  const user = await User.findOne({ where: { email } });\r\n  if (user) {\r\n    throw new Error('Email already exists');\r\n  }\r\n};\r\n\r\nconst encryptPassword = async (password) => {\r\n  const salt = await bcrypt.genSalt(10); \r\n  const hashedPassword = await bcrypt.hash(password, salt);\r\n  return hashedPassword;\r\n};\r\n\r\nconst generateJwtToken = (user) => {\r\n  const payload = {\r\n    userId: user.id, \r\n    email: user.email,\r\n    role: user.role,  \r\n  };\r\n  const token = jwt.sign(payload, process.env.JWT_SECRET, { expiresIn: '1h' });\r\n  return token;\r\n};\r\n\r\nconst validateUserRegistration = async (userData) => {\r\n  const { error } = userValidationSchema.validate(userData);\r\n  if (error) {\r\n    throw new Error(error.details[0].message);\r\n  }\r\n  await validateEmailExists(userData.email); \r\n};\r\n\r\nmodule.exports = { validateUserRegistration, encryptPassword, generateJwtToken };\r\n"],mappings:"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",ignoreList:[]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"52cab652a656f9ac075090f3b9d642bcb3dac176"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_21x79pzeds=function(){return actualCoverage;};}return actualCoverage;}cov_21x79pzeds();const Joi=(cov_21x79pzeds().s[0]++,require('joi'));const bcrypt=(cov_21x79pzeds().s[1]++,require('bcryptjs'));const jwt=(cov_21x79pzeds().s[2]++,require('jsonwebtoken'));const{User}=(cov_21x79pzeds().s[3]++,require('../../models'));const userValidationSchema=(cov_21x79pzeds().s[4]++,Joi.object({email:Joi.string().email().required().messages({'string.email':'Invalid email format','any.required':'Email is required'}),password:Joi.string().min(8).alphanum().required().messages({'string.min':'Password must be at least 8 characters long','string.alphanum':'Password must be alphanumeric','any.required':'Password is required'}),firstName:Joi.string().required().messages({'any.required':'First name is required'}),lastName:Joi.string().required().messages({'any.required':'Last name is required'}),birthOfDate:Joi.date().iso().required().messages({'date.base':'Invalid date format','any.required':'Date of birth is required'}),preferredLanguage:Joi.string().optional().messages({'string.base':'Preferred language must be a string'}),preferredCurrency:Joi.string().optional().messages({'string.base':'Preferred currency must be a string'}),whereYouLive:Joi.string().optional().messages({'string.base':'Location must be a string'}),role:Joi.string().required().messages({'any.required':'Role is required'}),department:Joi.string().optional().messages({'string.base':'Department must be a string'}),lineManager:Joi.string().optional().messages({'string.base':'Line Manager must be a string'}),gender:Joi.string().valid('Male','Female','Other').optional().messages({'any.only':'Gender must be Male, Female, or Other'}),telephoneNumber:Joi.string().pattern(/^\+?\d{7,15}$/).optional().messages({'string.pattern.base':'Telephone number must be a valid phone number'})}));cov_21x79pzeds().s[5]++;const validateEmailExists=async email=>{cov_21x79pzeds().f[0]++;const user=(cov_21x79pzeds().s[6]++,await User.findOne({where:{email}}));cov_21x79pzeds().s[7]++;if(user){cov_21x79pzeds().b[0][0]++;cov_21x79pzeds().s[8]++;throw new Error('Email already exists');}else{cov_21x79pzeds().b[0][1]++;}};cov_21x79pzeds().s[9]++;const encryptPassword=async password=>{cov_21x79pzeds().f[1]++;const salt=(cov_21x79pzeds().s[10]++,await bcrypt.genSalt(10));const hashedPassword=(cov_21x79pzeds().s[11]++,await bcrypt.hash(password,salt));cov_21x79pzeds().s[12]++;return hashedPassword;};cov_21x79pzeds().s[13]++;const generateJwtToken=user=>{cov_21x79pzeds().f[2]++;const payload=(cov_21x79pzeds().s[14]++,{userId:user.id,email:user.email,role:user.role});const token=(cov_21x79pzeds().s[15]++,jwt.sign(payload,process.env.JWT_SECRET,{expiresIn:'1h'}));cov_21x79pzeds().s[16]++;return token;};cov_21x79pzeds().s[17]++;const validateUserRegistration=async userData=>{cov_21x79pzeds().f[3]++;const{error}=(cov_21x79pzeds().s[18]++,userValidationSchema.validate(userData));cov_21x79pzeds().s[19]++;if(error){cov_21x79pzeds().b[1][0]++;cov_21x79pzeds().s[20]++;throw new Error(error.details[0].message);}else{cov_21x79pzeds().b[1][1]++;}cov_21x79pzeds().s[21]++;await validateEmailExists(userData.email);};cov_21x79pzeds().s[22]++;module.exports={validateUserRegistration,encryptPassword,generateJwtToken};//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJKb2kiLCJyZXF1aXJlIiwiYmNyeXB0Iiwiand0IiwiVXNlciIsInVzZXJWYWxpZGF0aW9uU2NoZW1hIiwib2JqZWN0IiwiZW1haWwiLCJzdHJpbmciLCJyZXF1aXJlZCIsIm1lc3NhZ2VzIiwicGFzc3dvcmQiLCJtaW4iLCJhbHBoYW51bSIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwiYmlydGhPZkRhdGUiLCJkYXRlIiwiaXNvIiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJvcHRpb25hbCIsInByZWZlcnJlZEN1cnJlbmN5Iiwid2hlcmVZb3VMaXZlIiwicm9sZSIsImRlcGFydG1lbnQiLCJsaW5lTWFuYWdlciIsImdlbmRlciIsInZhbGlkIiwidGVsZXBob25lTnVtYmVyIiwicGF0dGVybiIsInZhbGlkYXRlRW1haWxFeGlzdHMiLCJ1c2VyIiwiZmluZE9uZSIsIndoZXJlIiwiRXJyb3IiLCJlbmNyeXB0UGFzc3dvcmQiLCJzYWx0IiwiZ2VuU2FsdCIsImhhc2hlZFBhc3N3b3JkIiwiaGFzaCIsImdlbmVyYXRlSnd0VG9rZW4iLCJwYXlsb2FkIiwidXNlcklkIiwiaWQiLCJ0b2tlbiIsInNpZ24iLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImV4cGlyZXNJbiIsInZhbGlkYXRlVXNlclJlZ2lzdHJhdGlvbiIsInVzZXJEYXRhIiwiZXJyb3IiLCJ2YWxpZGF0ZSIsImRldGFpbHMiLCJtZXNzYWdlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiTjpcXFBlcnNvbmFsIFByb2plY3RzXFxUaGUgVGFsZW50XFx0ZXN0LW5vbWFkXFxzcmNcXHZhbGlkYXRpb25zXFwiLCJzb3VyY2VzIjpbInVzZXJWYWxpZGF0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEpvaSA9IHJlcXVpcmUoJ2pvaScpO1xyXG5jb25zdCBiY3J5cHQgPSByZXF1aXJlKCdiY3J5cHRqcycpO1xyXG5jb25zdCBqd3QgPSByZXF1aXJlKCdqc29ud2VidG9rZW4nKTtcclxuY29uc3QgeyBVc2VyIH0gPSByZXF1aXJlKCcuLi8uLi9tb2RlbHMnKTtcclxuXHJcbmNvbnN0IHVzZXJWYWxpZGF0aW9uU2NoZW1hID0gSm9pLm9iamVjdCh7XHJcbiAgZW1haWw6IEpvaS5zdHJpbmcoKS5lbWFpbCgpLnJlcXVpcmVkKCkubWVzc2FnZXMoe1xyXG4gICAgJ3N0cmluZy5lbWFpbCc6ICdJbnZhbGlkIGVtYWlsIGZvcm1hdCcsXHJcbiAgICAnYW55LnJlcXVpcmVkJzogJ0VtYWlsIGlzIHJlcXVpcmVkJyxcclxuICB9KSxcclxuICBwYXNzd29yZDogSm9pLnN0cmluZygpLm1pbig4KS5hbHBoYW51bSgpLnJlcXVpcmVkKCkubWVzc2FnZXMoe1xyXG4gICAgJ3N0cmluZy5taW4nOiAnUGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCA4IGNoYXJhY3RlcnMgbG9uZycsXHJcbiAgICAnc3RyaW5nLmFscGhhbnVtJzogJ1Bhc3N3b3JkIG11c3QgYmUgYWxwaGFudW1lcmljJyxcclxuICAgICdhbnkucmVxdWlyZWQnOiAnUGFzc3dvcmQgaXMgcmVxdWlyZWQnLFxyXG4gIH0pLFxyXG4gIGZpcnN0TmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCkubWVzc2FnZXMoe1xyXG4gICAgJ2FueS5yZXF1aXJlZCc6ICdGaXJzdCBuYW1lIGlzIHJlcXVpcmVkJyxcclxuICB9KSxcclxuICBsYXN0TmFtZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCkubWVzc2FnZXMoe1xyXG4gICAgJ2FueS5yZXF1aXJlZCc6ICdMYXN0IG5hbWUgaXMgcmVxdWlyZWQnLFxyXG4gIH0pLFxyXG4gIGJpcnRoT2ZEYXRlOiBKb2kuZGF0ZSgpLmlzbygpLnJlcXVpcmVkKCkubWVzc2FnZXMoe1xyXG4gICAgJ2RhdGUuYmFzZSc6ICdJbnZhbGlkIGRhdGUgZm9ybWF0JyxcclxuICAgICdhbnkucmVxdWlyZWQnOiAnRGF0ZSBvZiBiaXJ0aCBpcyByZXF1aXJlZCcsXHJcbiAgfSksXHJcbiAgcHJlZmVycmVkTGFuZ3VhZ2U6IEpvaS5zdHJpbmcoKS5vcHRpb25hbCgpLm1lc3NhZ2VzKHtcclxuICAgICdzdHJpbmcuYmFzZSc6ICdQcmVmZXJyZWQgbGFuZ3VhZ2UgbXVzdCBiZSBhIHN0cmluZycsXHJcbiAgfSksXHJcbiAgcHJlZmVycmVkQ3VycmVuY3k6IEpvaS5zdHJpbmcoKS5vcHRpb25hbCgpLm1lc3NhZ2VzKHtcclxuICAgICdzdHJpbmcuYmFzZSc6ICdQcmVmZXJyZWQgY3VycmVuY3kgbXVzdCBiZSBhIHN0cmluZycsXHJcbiAgfSksXHJcbiAgd2hlcmVZb3VMaXZlOiBKb2kuc3RyaW5nKCkub3B0aW9uYWwoKS5tZXNzYWdlcyh7XHJcbiAgICAnc3RyaW5nLmJhc2UnOiAnTG9jYXRpb24gbXVzdCBiZSBhIHN0cmluZycsXHJcbiAgfSksXHJcbiAgcm9sZTogSm9pLnN0cmluZygpLnJlcXVpcmVkKCkubWVzc2FnZXMoe1xyXG4gICAgJ2FueS5yZXF1aXJlZCc6ICdSb2xlIGlzIHJlcXVpcmVkJyxcclxuICB9KSxcclxuICBkZXBhcnRtZW50OiBKb2kuc3RyaW5nKCkub3B0aW9uYWwoKS5tZXNzYWdlcyh7XHJcbiAgICAnc3RyaW5nLmJhc2UnOiAnRGVwYXJ0bWVudCBtdXN0IGJlIGEgc3RyaW5nJyxcclxuICB9KSxcclxuICBsaW5lTWFuYWdlcjogSm9pLnN0cmluZygpLm9wdGlvbmFsKCkubWVzc2FnZXMoe1xyXG4gICAgJ3N0cmluZy5iYXNlJzogJ0xpbmUgTWFuYWdlciBtdXN0IGJlIGEgc3RyaW5nJyxcclxuICB9KSxcclxuICBnZW5kZXI6IEpvaS5zdHJpbmcoKS52YWxpZCgnTWFsZScsICdGZW1hbGUnLCAnT3RoZXInKS5vcHRpb25hbCgpLm1lc3NhZ2VzKHtcclxuICAgICdhbnkub25seSc6ICdHZW5kZXIgbXVzdCBiZSBNYWxlLCBGZW1hbGUsIG9yIE90aGVyJyxcclxuICB9KSxcclxuICB0ZWxlcGhvbmVOdW1iZXI6IEpvaS5zdHJpbmcoKVxyXG4gICAgLnBhdHRlcm4oL15cXCs/XFxkezcsMTV9JC8pXHJcbiAgICAub3B0aW9uYWwoKVxyXG4gICAgLm1lc3NhZ2VzKHtcclxuICAgICAgJ3N0cmluZy5wYXR0ZXJuLmJhc2UnOiAnVGVsZXBob25lIG51bWJlciBtdXN0IGJlIGEgdmFsaWQgcGhvbmUgbnVtYmVyJyxcclxuICAgIH0pLFxyXG59KTtcclxuXHJcbmNvbnN0IHZhbGlkYXRlRW1haWxFeGlzdHMgPSBhc3luYyAoZW1haWwpID0+IHtcclxuICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgd2hlcmU6IHsgZW1haWwgfSB9KTtcclxuICBpZiAodXNlcikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdFbWFpbCBhbHJlYWR5IGV4aXN0cycpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IGVuY3J5cHRQYXNzd29yZCA9IGFzeW5jIChwYXNzd29yZCkgPT4ge1xyXG4gIGNvbnN0IHNhbHQgPSBhd2FpdCBiY3J5cHQuZ2VuU2FsdCgxMCk7IFxyXG4gIGNvbnN0IGhhc2hlZFBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIHNhbHQpO1xyXG4gIHJldHVybiBoYXNoZWRQYXNzd29yZDtcclxufTtcclxuXHJcbmNvbnN0IGdlbmVyYXRlSnd0VG9rZW4gPSAodXNlcikgPT4ge1xyXG4gIGNvbnN0IHBheWxvYWQgPSB7XHJcbiAgICB1c2VySWQ6IHVzZXIuaWQsIFxyXG4gICAgZW1haWw6IHVzZXIuZW1haWwsXHJcbiAgICByb2xlOiB1c2VyLnJvbGUsICBcclxuICB9O1xyXG4gIGNvbnN0IHRva2VuID0gand0LnNpZ24ocGF5bG9hZCwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCwgeyBleHBpcmVzSW46ICcxaCcgfSk7XHJcbiAgcmV0dXJuIHRva2VuO1xyXG59O1xyXG5cclxuY29uc3QgdmFsaWRhdGVVc2VyUmVnaXN0cmF0aW9uID0gYXN5bmMgKHVzZXJEYXRhKSA9PiB7XHJcbiAgY29uc3QgeyBlcnJvciB9ID0gdXNlclZhbGlkYXRpb25TY2hlbWEudmFsaWRhdGUodXNlckRhdGEpO1xyXG4gIGlmIChlcnJvcikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLmRldGFpbHNbMF0ubWVzc2FnZSk7XHJcbiAgfVxyXG4gIGF3YWl0IHZhbGlkYXRlRW1haWxFeGlzdHModXNlckRhdGEuZW1haWwpOyBcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0geyB2YWxpZGF0ZVVzZXJSZWdpc3RyYXRpb24sIGVuY3J5cHRQYXNzd29yZCwgZ2VuZXJhdGVKd3RUb2tlbiB9O1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLEdBQUcsR0FBR0MsT0FBTyxDQUFDLEtBQUssQ0FBQztBQUMxQixNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxVQUFVLENBQUM7QUFDbEMsTUFBTUUsR0FBRyxHQUFHRixPQUFPLENBQUMsY0FBYyxDQUFDO0FBQ25DLE1BQU07RUFBRUc7QUFBSyxDQUFDLEdBQUdILE9BQU8sQ0FBQyxjQUFjLENBQUM7QUFFeEMsTUFBTUksb0JBQW9CLEdBQUdMLEdBQUcsQ0FBQ00sTUFBTSxDQUFDO0VBQ3RDQyxLQUFLLEVBQUVQLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLENBQUMsQ0FBQ0QsS0FBSyxDQUFDLENBQUMsQ0FBQ0UsUUFBUSxDQUFDLENBQUMsQ0FBQ0MsUUFBUSxDQUFDO0lBQzlDLGNBQWMsRUFBRSxzQkFBc0I7SUFDdEMsY0FBYyxFQUFFO0VBQ2xCLENBQUMsQ0FBQztFQUNGQyxRQUFRLEVBQUVYLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLENBQUMsQ0FBQ0ksR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDQyxRQUFRLENBQUMsQ0FBQyxDQUFDSixRQUFRLENBQUMsQ0FBQyxDQUFDQyxRQUFRLENBQUM7SUFDM0QsWUFBWSxFQUFFLDZDQUE2QztJQUMzRCxpQkFBaUIsRUFBRSwrQkFBK0I7SUFDbEQsY0FBYyxFQUFFO0VBQ2xCLENBQUMsQ0FBQztFQUNGSSxTQUFTLEVBQUVkLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLENBQUMsQ0FBQ0MsUUFBUSxDQUFDLENB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
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfMjF4NzlwemVkcyIsImFjdHVhbENvdmVyYWdlIiwiSm9pIiwicyIsInJlcXVpcmUiLCJiY3J5cHQiLCJqd3QiLCJVc2VyIiwidXNlclZhbGlkYXRpb25TY2hlbWEiLCJvYmplY3QiLCJlbWFpbCIsInN0cmluZyIsInJlcXVpcmVkIiwibWVzc2FnZXMiLCJwYXNzd29yZCIsIm1pbiIsImFscGhhbnVtIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJiaXJ0aE9mRGF0ZSIsImRhdGUiLCJpc28iLCJwcmVmZXJyZWRMYW5ndWFnZSIsIm9wdGlvbmFsIiwicHJlZmVycmVkQ3VycmVuY3kiLCJ3aGVyZVlvdUxpdmUiLCJyb2xlIiwiZGVwYXJ0bWVudCIsImxpbmVNYW5hZ2VyIiwiZ2VuZGVyIiwidmFsaWQiLCJ0ZWxlcGhvbmVOdW1iZXIiLCJwYXR0ZXJuIiwidmFsaWRhdGVFbWFpbEV4aXN0cyIsImYiLCJ1c2VyIiwiZmluZE9uZSIsIndoZXJlIiwiYiIsIkVycm9yIiwiZW5jcnlwdFBhc3N3b3JkIiwic2FsdCIsImdlblNhbHQiLCJoYXNoZWRQYXNzd29yZCIsImhhc2giLCJnZW5lcmF0ZUp3dFRva2VuIiwicGF5bG9hZCIsInVzZXJJZCIsImlkIiwidG9rZW4iLCJzaWduIiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJleHBpcmVzSW4iLCJ2YWxpZGF0ZVVzZXJSZWdpc3RyYXRpb24iLCJ1c2VyRGF0YSIsImVycm9yIiwidmFsaWRhdGUiLCJkZXRhaWxzIiwibWVzc2FnZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyJOOlxcUGVyc29uYWwgUHJvamVjdHNcXFRoZSBUYWxlbnRcXHRlc3Qtbm9tYWRcXHNyY1xcdmFsaWRhdGlvbnNcXC91c2VyVmFsaWRhdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBKb2kgPSByZXF1aXJlKCdqb2knKTtcclxuY29uc3QgYmNyeXB0ID0gcmVxdWlyZSgnYmNyeXB0anMnKTtcclxuY29uc3Qgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJyk7XHJcbmNvbnN0IHsgVXNlciB9ID0gcmVxdWlyZSgnLi4vLi4vbW9kZWxzJyk7XHJcblxyXG5jb25zdCB1c2VyVmFsaWRhdGlvblNjaGVtYSA9IEpvaS5vYmplY3Qoe1xyXG4gIGVtYWlsOiBKb2kuc3RyaW5nKCkuZW1haWwoKS5yZXF1aXJlZCgpLm1lc3NhZ2VzKHtcclxuICAgICdzdHJpbmcuZW1haWwnOiAnSW52YWxpZCBlbWFpbCBmb3JtYXQnLFxyXG4gICAgJ2FueS5yZXF1aXJlZCc6ICdFbWFpbCBpcyByZXF1aXJlZCcsXHJcbiAgfSksXHJcbiAgcGFzc3dvcmQ6IEpvaS5zdHJpbmcoKS5taW4oOCkuYWxwaGFudW0oKS5yZXF1aXJlZCgpLm1lc3NhZ2VzKHtcclxuICAgICdzdHJpbmcubWluJzogJ1Bhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgOCBjaGFyYWN0ZXJzIGxvbmcnLFxyXG4gICAgJ3N0cmluZy5hbHBoYW51bSc6ICdQYXNzd29yZCBtdXN0IGJlIGFscGhhbnVtZXJpYycsXHJcbiAgICAnYW55LnJlcXVpcmVkJzogJ1Bhc3N3b3JkIGlzIHJlcXVpcmVkJyxcclxuICB9KSxcclxuICBmaXJzdE5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLm1lc3NhZ2VzKHtcclxuICAgICdhbnkucmVxdWlyZWQnOiAnRmlyc3QgbmFtZSBpcyByZXF1aXJlZCcsXHJcbiAgfSksXHJcbiAgbGFzdE5hbWU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLm1lc3NhZ2VzKHtcclxuICAgICdhbnkucmVxdWlyZWQnOiAnTGFzdCBuYW1lIGlzIHJlcXVpcmVkJyxcclxuICB9KSxcclxuICBiaXJ0aE9mRGF0ZTogSm9pLmRhdGUoKS5pc28oKS5yZXF1aXJlZCgpLm1lc3NhZ2VzKHtcclxuICAgICdkYXRlLmJhc2UnOiAnSW52YWxpZCBkYXRlIGZvcm1hdCcsXHJcbiAgICAnYW55LnJlcXVpcmVkJzogJ0RhdGUgb2YgYmlydGggaXMgcmVxdWlyZWQnLFxyXG4gIH0pLFxyXG4gIHByZWZlcnJlZExhbmd1YWdlOiBKb2kuc3RyaW5nKCkub3B0aW9uYWwoKS5tZXNzYWdlcyh7XHJcbiAgICAnc3RyaW5nLmJhc2UnOiAnUHJlZmVycmVkIGxhbmd1YWdlIG11c3QgYmUgYSBzdHJpbmcnLFxyXG4gIH0pLFxyXG4gIHByZWZlcnJlZEN1cnJlbmN5OiBKb2kuc3RyaW5nKCkub3B0aW9uYWwoKS5tZXNzYWdlcyh7XHJcbiAgICAnc3RyaW5nLmJhc2UnOiAnUHJlZmVycmVkIGN1cnJlbmN5IG11c3QgYmUgYSBzdHJpbmcnLFxyXG4gIH0pLFxyXG4gIHdoZXJlWW91TGl2ZTogSm9pLnN0cmluZygpLm9wdGlvbmFsKCkubWVzc2FnZXMoe1xyXG4gICAgJ3N0cmluZy5iYXNlJzogJ0xvY2F0aW9uIG11c3QgYmUgYSBzdHJpbmcnLFxyXG4gIH0pLFxyXG4gIHJvbGU6IEpvaS5zdHJpbmcoKS5yZXF1aXJlZCgpLm1lc3NhZ2VzKHtcclxuICAgICdhbnkucmVxdWlyZWQnOiAnUm9sZSBpcyByZXF1aXJlZCcsXHJcbiAgfSksXHJcbiAgZGVwYXJ0bWVudDogSm9pLnN0cmluZygpLm9wdGlvbmFsKCkubWVzc2FnZXMoe1xyXG4gICAgJ3N0cmluZy5iYXNlJzogJ0RlcGFydG1lbnQgbXVzdCBiZSBhIHN0cmluZycsXHJcbiAgfSksXHJcbiAgbGluZU1hbmFnZXI6IEpvaS5zdHJpbmcoKS5vcHRpb25hbCgpLm1lc3NhZ2VzKHtcclxuICAgICdzdHJpbmcuYmFzZSc6ICdMaW5lIE1hbmFnZXIgbXVzdCBiZSBhIHN0cmluZycsXHJcbiAgfSksXHJcbiAgZ2VuZGVyOiBKb2kuc3RyaW5nKCkudmFsaWQoJ01hbGUnLCAnRmVtYWxlJywgJ090aGVyJykub3B0aW9uYWwoKS5tZXNzYWdlcyh7XHJcbiAgICAnYW55Lm9ubHknOiAnR2VuZGVyIG11c3QgYmUgTWFsZSwgRmVtYWxlLCBvciBPdGhlcicsXHJcbiAgfSksXHJcbiAgdGVsZXBob25lTnVtYmVyOiBKb2kuc3RyaW5nKClcclxuICAgIC5wYXR0ZXJuKC9eXFwrP1xcZHs3LDE1fSQvKVxyXG4gICAgLm9wdGlvbmFsKClcclxuICAgIC5tZXNzYWdlcyh7XHJcbiAgICAgICdzdHJpbmcucGF0dGVybi5iYXNlJzogJ1RlbGVwaG9uZSBudW1iZXIgbXVzdCBiZSBhIHZhbGlkIHBob25lIG51bWJlcicsXHJcbiAgICB9KSxcclxufSk7XHJcblxyXG5jb25zdCB2YWxpZGF0ZUVtYWlsRXhpc3RzID0gYXN5bmMgKGVtYWlsKSA9PiB7XHJcbiAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7IHdoZXJlOiB7IGVtYWlsIH0gfSk7XHJcbiAgaWYgKHVzZXIpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcignRW1haWwgYWxyZWFkeSBleGlzdHMnKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBlbmNyeXB0UGFzc3dvcmQgPSBhc3luYyAocGFzc3dvcmQpID0+IHtcclxuICBjb25zdCBzYWx0ID0gYXdhaXQgYmNyeXB0LmdlblNhbHQoMTApOyBcclxuICBjb25zdCBoYXNoZWRQYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKHBhc3N3b3JkLCBzYWx0KTtcclxuICByZXR1cm4gaGFzaGVkUGFzc3dvcmQ7XHJcbn07XHJcblxyXG5jb25zdCBnZW5lcmF0ZUp3dFRva2VuID0gKHVzZXIpID0+IHtcclxuICBjb25zdCBwYXlsb2FkID0ge1xyXG4gICAgdXNlcklkOiB1c2VyLmlkLCBcclxuICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgcm9sZTogdXNlci5yb2xlLCAgXHJcbiAgfTtcclxuICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHBheWxvYWQsIHByb2Nlc3MuZW52LkpXVF9TRUNSRVQsIHsgZXhwaXJlc0luOiAnMWgnIH0pO1xyXG4gIHJldHVybiB0b2tlbjtcclxufTtcclxuXHJcbmNvbnN0IHZhbGlkYXRlVXNlclJlZ2lzdHJhdGlvbiA9IGFzeW5jICh1c2VyRGF0YSkgPT4ge1xyXG4gIGNvbnN0IHsgZXJyb3IgfSA9IHVzZXJWYWxpZGF0aW9uU2NoZW1hLnZhbGlkYXRlKHVzZXJEYXRhKTtcclxuICBpZiAoZXJyb3IpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5kZXRhaWxzWzBdLm1lc3NhZ2UpO1xyXG4gIH1cclxuICBhd2FpdCB2YWxpZGF0ZUVtYWlsRXhpc3RzKHVzZXJEYXRhLmVtYWlsKTsgXHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHsgdmFsaWRhdGVVc2VyUmVnaXN0cmF0aW9uLCBlbmNyeXB0UGFzc3dvcmQsIGdlbmVyYXRlSnd0VG9rZW4gfTtcclxuIl0sIm1hcHBpbmdzIjoieXdUQWNJO0FBQUFBLGNBQUEsU0FBQUEsQ0FBQSxTQUFBQyxjQUFBLFdBQUFBLGNBQUEsRUFBQUQsY0FBQSxHQWRKLEtBQU0sQ0FBQUUsR0FBRyxFQUFBRixjQUFBLEdBQUFHLENBQUEsTUFBR0MsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUMxQixLQUFNLENBQUFDLE1BQU0sRUFBQUwsY0FBQSxHQUFBRyxDQUFBLE1BQUdDLE9BQU8sQ0FBQyxVQUFVLENBQUMsRUFDbEMsS0FBTSxDQUFBRSxHQUFHLEVBQUFOLGNBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsY0FBYyxDQUFDLEVBQ25DLEtBQU0sQ0FBRUcsSUFBSyxDQUFDLEVBQUFQLGNBQUEsR0FBQUcsQ0FBQSxNQUFHQyxPQUFPLENBQUMsY0FBYyxDQUFDLEVBRXhDLEtBQU0sQ0FBQUksb0JBQW9CLEVBQUFSLGNBQUEsR0FBQUcsQ0FBQSxNQUFHRCxHQUFHLENBQUNPLE1BQU0sQ0FBQyxDQUN0Q0MsS0FBSyxDQUFFUixHQUFHLENBQUNTLE1BQU0sQ0FBQyxDQUFDLENBQUNELEtBQUssQ0FBQyxDQUFDLENBQUNFLFFBQVEsQ0FBQyxDQUFDLENBQUNDLFFBQVEsQ0FBQyxDQUM5QyxjQUFjLENBQUUsc0JBQXNCLENBQ3RDLGNBQWMsQ0FBRSxtQkFDbEIsQ0FBQyxDQUFDLENBQ0ZDLFFBQVEsQ0FBRVosR0FBRyxDQUFDUyxNQUFNLENBQUMsQ0FBQyxD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